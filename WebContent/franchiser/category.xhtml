<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui">
    <h:head>
    	<meta charset="utf-8"/>
        <title>Demand-Driven IS</title>
        <h:outputStylesheet name="standardLayout.css" library="css" />
    </h:head>
    <h:body>
		<ui:composition template="/common/standardLayout.xhtml">
    		<ui:define name="leftMenu">
				<ui:include src="leftMenu.xhtml" />
    		</ui:define>
			<ui:define name="rightContent">

				<h:form id="form">
				<p:growl id="messages" showDetail="true" />
    			<div class="ui-datatable-header ui-widget-header ui-corner-top right-content-header">
    			<span class="right-content-header-text">User Info Table</span>
    			<div class="right-content-header-buttons-panel">
    			<p:commandButton actionListener="#{franchiserCategory.openAddCategory}" update="messages"
    			value="Add" styleClass="right-content-header-button" icon="ui-icon-calculator" />
				<p:commandButton type="button" value="Delete"
				styleClass="right-content-header-button" icon="ui-icon-calculator" />
    			<p:commandButton type="button" value="Rename"
				styleClass="right-content-header-button" icon="ui-icon-calculator" />
    			</div>
    			</div>
			    <p:tree value="#{franchiserCategory.rootNode}" var="category" selectionMode="single"
			    selection="#{franchiserCategory.selectedNode}" orientation="horizontal">

			        <!--<p:ajax event="expand" update=":form:messages" listener="#{treeEventsView.onNodeExpand}" />
			        <p:ajax event="collapse" update=":form:messages" listener="#{treeEventsView.onNodeCollapse}" />

			        <p:ajax event="unselect" update=":form:messages" listener="#{treeEventsView.onNodeUnselect}" />-->
			        <p:ajax event="select" listener="#{franchiserCategory.onNodeSelect}" />
			        <p:treeNode expandedIcon="ui-icon-folder-open" collapsedIcon="ui-icon-folder-collapsed">
			            <h:outputText value="#{category.categoryName}"/>
			        </p:treeNode>
			        <p:treeNode type="category" expandedIcon="ui-icon-folder-open" collapsedIcon="ui-icon-folder-collapsed">
			            <h:outputText value="#{category.categoryName}" />
			        </p:treeNode>
			    </p:tree>
				
				<p:dialog header="Add Category" widgetVar="addCategory" width="450">
				    <h:outputText value="This is a Modal Dialog." />
				</p:dialog> 
				</h:form>
    		</ui:define>
    	</ui:composition>
    </h:body>
</html>